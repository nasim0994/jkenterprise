import{u as w,r as g,k as y,l as N,j as e,t as v}from"./index-e345c454.js";import{a as L}from"./userApi-6634985b.js";function F(){var i,m;const{loggedUser:t}=w(a=>a.user),[r,b]=g.useState(""),[p,{isLoading:o,isError:n}]=L(),l=y(),c=((m=(i=N().state)==null?void 0:i.from)==null?void 0:m.pathname)||"/admin/dashboard";g.useEffect(()=>{t!=null&&t.success&&!n&&l(c,{replace:!0})},[t,n,c,l]);const f=async a=>{var u,x;a.preventDefault();const d=a.target,h=d.username.value,j=d.password.value,s=await p({username:h,password:j});(u=s==null?void 0:s.data)!=null&&u.success?v.success("Login Successful"):(b(((x=s==null?void 0:s.data)==null?void 0:x.message)||"Something went wrong"),console.log(s))};return e.jsx("div",{className:"flex justify-center items-center h-screen w-full",children:e.jsxs("form",{onSubmit:f,className:"w-[90%] sm:w-[350px]",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-medium text-center",children:"Admin Login"})}),e.jsx("br",{}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium",children:"Username"}),e.jsx("input",{type:"username",id:"username",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5",placeholder:"eManager",required:!0})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 ",placeholder:"********",required:!0})]}),r&&e.jsx("p",{className:"text-red-500 text-xs",children:r}),e.jsx("br",{}),e.jsx("button",{type:"submit",disabled:o&&"disabled",className:"text-base-100 bg-primary font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:o?"Loading...":"Submit"})]})})}export{F as default};

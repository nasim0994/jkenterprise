import{r as w,a7 as y,a8 as F,a9 as _,j as e,Q as L,a4 as o}from"./index-7cf7941e.js";import{_ as D}from"./index-27621bb4.js";function S(){const[t,j]=w.useState([]),{data:r}=y(),a=r==null?void 0:r.data,m=a==null?void 0:a._id,[f,{isLoading:u}]=F(),[b,{isLoading:v}]=_(),N=async d=>{var i,l,c,x,h,p,g;d.preventDefault();const n=new FormData;if(n.append("icon",(i=t[0])==null?void 0:i.file),m){let s=await b({id:m,formData:n});(l=s==null?void 0:s.data)!=null&&l.success?o.success(((c=s==null?void 0:s.data)==null?void 0:c.message)||"Favicon added successfully"):(o.error(((x=s==null?void 0:s.data)==null?void 0:x.message)||"Something went wrong"),console.log(s))}else{const s=await f(n);(h=s==null?void 0:s.data)!=null&&h.success?o.success(((p=s==null?void 0:s.data)==null?void 0:p.message)||"Favicon added successfully"):(o.error(((g=s==null?void 0:s.data)==null?void 0:g.message)||"Something went wrong"),console.log(s))}};return e.jsxs("section",{className:"bg-base-100 shadow rounded",children:[e.jsx("div",{className:"p-4 border-b text-neutral font-medium flex justify-between items-center",children:e.jsx("h3",{children:"Add Favicon"})}),e.jsxs("form",{onSubmit:N,className:"p-4",children:[e.jsxs("div",{className:"md:w-1/2 w-full",children:[e.jsx("p",{className:"mb-1",children:"Icon"}),e.jsx("div",{children:e.jsx(D,{defaultValue:t,onChange:d=>j(d),dataURLKey:"data_url",children:({onImageUpload:d,onImageRemove:n,dragProps:i})=>e.jsxs("div",{className:"border rounded border-dashed p-4 md:flex items-center gap-10",...i,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:d,className:"w-max px-4 py-1.5 rounded-2xl text-base-100 bg-primary cursor-pointer text-sm",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(t==null?void 0:t.length)>0&&"mt-4"} `,children:t==null?void 0:t.map((l,c)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:l.data_url,alt:"",className:"w-32 h-20"}),e.jsx("div",{onClick:()=>n(c),className:"w-7 h-7 bg-primary rounded-full flex justify-center items-center text-base-100 absolute top-0 right-0 cursor-pointer",children:e.jsx(L,{})})]},c))})]})})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:`https://api.venturecommunicationsbd.com/favicon/${a==null?void 0:a.icon}`,alt:"",className:"w-32"})}),e.jsx("div",{className:"mt-5",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{disabled:u&&"disabled",className:"primary_btn",children:u||v?"Loading...":a!=null&&a._id?"Update Favicon":"Add Favicon"})})})]})]})}export{S as default};

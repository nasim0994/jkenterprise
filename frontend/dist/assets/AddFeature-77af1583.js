import{k as x,r as h,V as p,j as e,Q as j,v as l}from"./index-5e621d87.js";import{_ as f}from"./index-06f38eaf.js";function v(){const o=x(),[s,d]=h.useState([]),[m,{isLoading:n}]=p(),u=async a=>{a.preventDefault();const i=a.target.title.value;if((s==null?void 0:s.length)<=0)return l.fire("","Img is required","warning");const r=new FormData;r.append("title",i),r.append("icon",s[0].file);const t=await m(r).unwrap();t!=null&&t.success?(l.fire("","Feature add success","success"),a.target.reset(),d([]),o("/admin/features/all")):(l.fire("","something went wrong!","error"),console.log(t))};return e.jsxs("section",{className:"bg-base-100 shadow rounded",children:[e.jsx("div",{className:"p-4 border-b text-neutral font-medium flex justify-between items-center",children:e.jsx("h3",{children:"Add Feature"})}),e.jsxs("form",{className:"p-4",onSubmit:u,children:[e.jsx("div",{className:"text-neutral-content grid sm:grid-cols-2 md:grid-cols-3 gap-4 items-start",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Title"}),e.jsx("input",{type:"text",name:"title",required:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Icon"}),e.jsx("div",{children:e.jsx(f,{defaultValue:s,onChange:a=>d(a),dataURLKey:"data_url",children:({onImageUpload:a,onImageRemove:i,dragProps:r})=>e.jsxs("div",{className:"border rounded border-dashed p-4",...r,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:a,className:"w-max px-4 py-1.5 rounded-2xl text-base-100 bg-primary cursor-pointer text-sm",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((t,c)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:t.data_url,alt:"",className:"w-24"}),e.jsx("div",{onClick:()=>i(c),className:"w-7 h-7 bg-primary rounded-full flex justify-center items-center text-base-100 absolute top-0 right-0 cursor-pointer",children:e.jsx(j,{})})]},c))})]})})})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{disabled:n&&"disabled",className:"primary_btn",children:n?"Loading...":"Add Product"})})]})]})}export{v as default};
